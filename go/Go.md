## Go

### 1. 为什么使用go

 1 .简单好记的关键词和语法。轻松上手，简单易学。
 2 .更高的效率。比Java, C++等拥有更高的编译速度，同时运行效率媲美C,同时开发效率非常高。
 3 .生态强大，网络上库很丰富，很多功能使用Go开发非常简单。
 4 .语法检查严格，高安全性。
 5 .严格的依赖管理，go mod命令。
 6 . Go拥有强大的编译检查、严格的编码规范和完整的软件生命周期工具，具有很强的稳定性，稳定压倒 一切。
 7 .跨平台交叉编译，windows就可以编译出mac, linux上可执行的程序。
 8 .异步编程复杂度低，易维护，GO语言中Channel设计，异步程序写起来非常自然。
 9 .语言层面支持并发，go关键字(协程)使其的并发效率极高。
10 .严格的语法规范，所有程序员写出来的代码都是一样的，对大团队来说，非常友好。
11 . Go的并发、性能、安全性、易于部署等特性，使它很容易成为"云原生语言"。

### 2. mac的环境变量

1.go环境链接[Golang Downloads Mirrors - The Go Programming Language](https://www.gomirrors.org/)   下载这种arm版本的。

![](https://img-blog.csdnimg.cn/20210829102546477.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAaW5pdF9iaW4=,size_20,color_FFFFFF,t_70,g_se,x_16)

2.打开路径文件，设置环境设置

```
vi .bash_profile
```

```
# 配置依赖源
# 注意通常公司的话有自己的链接，把这个改成公司的链接，项目里面的依赖才能下载下来。
export GOPROXY=http://goproxy.cn,direct    
# 校验包的安全性
export GOSUMDB=off
export GO111MODULE=on
```

3.查看环境变量

```go
go env
```

需要设置代理：GOPROXY

### 3. 开发工具

1.GoLand 破解：[程序员开发专属激活码，开启程序人生](https://idea.medeming.com/idea/)

2.GoLand设置

    goland-》prefences-〉goroot确认是刚安装的go版本

    设置go modules，这里设置以后会使用这里配置的goproxy，建议每个项目都单独配置一下。因为有的项目用的是这种公用代理，有的用的是公司的那种链接代理。

### 4.Go语言基础

#### 4.1变量

##### 1.变量声明&初始化

> Go语言是静态类型语言，因此变量（variable）是有明确类型的，编译器也会检查变量类型的正确性
> 
> 从计算机系统的角度来看，变量就是一段或是多端内存，用于存储数据

1.1标准格式

> var 变量 变量类型

```go
var go int
```

变量的命名规则遵循驼峰命名法

1.2基本类型

* bool

* int（随系统，一般是占用4个字节）、int8（占用1个字节）、int16（占用2个字节）、int32（占用4个字节）、int64（占用8个字节）

* uint（无符号整数）、uint8、uint16、uint32、uint64、uintptr

* byte  //uint8

* rune //int32的别名 代表一个Unicode码

* float32、float64

* complex64、complex128

有符号和无符号的区别：int8 范围-128-127，uint范围：0-255

所有的内存在GO中都是进行初始化的

1.3不指明变量类型

```go
var a = 1;
fmt.Printf("%T",a)
```

输出：int

在go语言中编译的时候会自动推导类型

1.4批量格式

```go
var (
        b int64 = 22
        c float32 = 0.5
        d bool = true
        e string = "你好呀"
    )
```

1.5简短类型

```go
var i int = 3
//两种写法等价
i := 3
```

可以省略var关键字，不能提供数据类型，只能定义在函数内部；一般是用在局部变量

2.匿名变量

```go
dial, err := net.Dial("tcp", "127.0.0.1:8080")
dial2, _ := net.Dial("tcp", "127.0.0.1:8080")
```

函数返回一个结果和一个err。如果不想接收err可以使用__

匿名变量不占用命名空间和，也不会分配内存

3.作用域

3.1局部变量

3.2全局变量

3.3形式参数

#### 4.2基本数据类型

1.整形

2.浮点型

3.布尔型

4.字符类型

一个字符串是一个不可改变的字节序列，字符串可以包含任意的数据；字符串是UTF-8字符的一个序列

```go
var myStr string = "这是一个字符串"
```

5.字符串类型

6.类型转换

#### 4.3

变量交换

```go
t1 := 100
t2 := 200
t1,t2 = t2,t1
```

#### 4.4 类型转换

类型B的值 = 类型B（类型A的值）

```go
a1 := 9.0
b1 := int(a1)
fmt.Println(b1)
```

- 类型转换只能在定义正确的情况下才能转换成功，例如从一个取值范围较小的类型转化到一个取值范围较大的类型（将int16转化为int32）

- 当从一个取值范围较大的类型转化到一个取之范围较小的类型时（将int32转化为int16或将float32转化为int），会发生<mark>精度丢失</mark>

- 只有相同的底层类型的变量之间进行互相转化（如将int16类型转化为int32类型），不通底层类型的变量相互转化时会引发编译错误（例如将bool转化为int类型）

#### 4.5常量

```go
//常量
const length int  = 10


const (
    BEIJING = 0
    SHANGHAI = 1
    SHENZHENG = 2
)
```

#### 4.6指针

指针在go语言中可以被拆分为两个核心概念：

- 类型指针：允许对这个指针对数据进行修改，传递数据可以直接使用指针，而无须拷贝数据，类型指针不能进行偏移和运算。

- 切片：由指向启始元素的原始指针、元素数量和容量组成。

##### 如何理解指针

var a int = 10

在c语言中有指针，就是内存的地址。使用类比的方法来说：

> 一个单位内存比做酒店，每个房间就是一块内存，上述代码描述了，定了一间房子a，让10住进了房子，房子有一个门牌号px，这个px就是房间的地址，房卡可以理解为指针，是直接指向了这个地址。

* 一个指针变量可以指向任何一个值的内存地址，它所指向的值的内存地址在32和64位机器上分别占用4或8个字节，占用字节的大小与所指向的值大小无关。

* 可以看看c语言中对指针的解释：[指针变量的存储实质，C语言指针变量的存储详解](http://c.biancheng.net/view/325.html)

* 指针也是一个变量，它在内存中只是存放的是某个变量的内存地址

```go
var cat int = 1
var str string = "哈哈哈哈，让我们来看指针"
fmt.Printf("%p,%p", &cat , &str)
```

```
0x14000132218,0x14000110540
```

* &是取到str的内存地址；*是根据地址取出地址所指向的值

```go
p := &str
fmt.Printf("%s\n %T",* p,p)
```

&是取到str的内存地址，然后将内存地址赋值给变量p 它的类型为 * string ，p此时是一个指针，因为这个变量里面装的是内存地址

#### 4.7别名

> 类型别名是Go 1.9版本添加的新功能，主要用于解决代码升级，迁移过程中的类型兼容问题

```go
type TypeAlias = Type
```

需要和类型定义进行区分：有无=

```go
type Name Type
```

来一个例子：

```go
//起别名（将uint8起别名为byte）
type byte = uint8

//类型定义（将string类型定义为string类型）
type string string
```

#### 4.8注释

go中分为单行注释和多行注释和java一样

```go
//
```

```go
/*

*/
```

#### 4.9数组

> 数组是定长的，不可更改，在编译阶段就决定了

* 数组声明

```go
//var 数组变量名 [元素数量]Type
var arr [3]string
```

```java
//java中声明数组
String[] arr;
```

* 数组赋值

```go
//给数组赋值
var arr1 [3]string = [3]string{"xj","cdwj","jij"}
//简写
arr2 := [3]string{"kkkkk"}
//数组个数由实际元素个数确定
arr3 := [...]string{"kk","ll"}
```

#### 4.10多维数组

#### 4.11切片









## 其他临时记录

```go
golang中根据首字母的大小写来确定可以访问的权限。无论是方法名、常量、变量名还是结构体的名称，如果首字母大写，则可以被其他的包访问；如果首字母小写，则只能在本包中使用
可以简单的理解成，首字母大写是公有的，首字母小写是私有的
```
